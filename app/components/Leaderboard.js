import { useEffect, useState } from 'react';
import LeaderboardRow from "./LeaderboardRow";
import LeaderboardRowShowMore from "./LeaderboardRowShowMore";
export default function Leaderboard() {
    const users = [
        { rank: "01", name: "USERNAME1", score: "12345", current_streak: "5", longest_streak: "300", active_for: "2 years", highest_score: "123", average_score: "123", scores_entered: "120", times_in_top_six: "37", times_at_num_one: "5", followers: "26" },
        { rank: "02", name: "USERNAME2", score: "10123", current_streak: "5", longest_streak: "300", active_for: "2 years", highest_score: "123", average_score: "123", scores_entered: "120", times_in_top_six: "37", times_at_num_one: "5", followers: "26" },
        { rank: "03", name: "USERNAME3", score: "10023", current_streak: "5", longest_streak: "300", active_for: "2 years", highest_score: "123", average_score: "123", scores_entered: "120", times_in_top_six: "37", times_at_num_one: "5", followers: "26" },
        { rank: "04", name: "USERNAME4", score: "10001", current_streak: "5", longest_streak: "300", active_for: "2 years", highest_score: "123", average_score: "123", scores_entered: "120", times_in_top_six: "37", times_at_num_one: "5", followers: "26" },
        { rank: "05", name: "USERNAME5", score: "10000", current_streak: "5", longest_streak: "300", active_for: "2 years", highest_score: "123", average_score: "123", scores_entered: "120", times_in_top_six: "37", times_at_num_one: "5", followers: "26" },
        { rank: "06", name: "USERNAME6", score: "02345", current_streak: "5", longest_streak: "300", active_for: "2 years", highest_score: "123", average_score: "123", scores_entered: "120", times_in_top_six: "37", times_at_num_one: "5", followers: "26" }
    ];

    const current_user = ({ rank: "15", name: "USERNAME6", score: "02345", current_streak: "5", longest_streak: "300", active_for: "2 years", highest_score: "123", average_score: "123", scores_entered: "120", times_in_top_six: "37", times_at_num_one: "5", followers: "26" });

    const worldToggle = (
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 2048 2048" version="1.1">
            <path fill="var(--color-tone-1)" d="M 985.261 10.088 C 932.888 12.006, 877.057 18.606, 824.633 29.077 C 665.620 60.836, 517.366 130.022, 390.008 231.905 C 340.275 271.690, 289.259 321.466, 247.449 371 C 166.439 466.975, 102.084 581.431, 62.148 700.560 C -3.581 896.632, -8.010 1107.985, 49.443 1306.817 C 86.952 1436.624, 152.749 1561.749, 238.168 1665.708 C 261.154 1693.683, 277.484 1711.567, 306.959 1741.041 C 346.338 1780.421, 376.282 1806.512, 416.476 1836.468 C 470.091 1876.426, 516.610 1904.926, 576.500 1934.506 C 814.837 2052.221, 1092.045 2070.957, 1345.500 1986.482 C 1388.929 1972.007, 1429.239 1955.379, 1471.500 1934.506 C 1503.227 1918.836, 1519.257 1910.119, 1546.500 1893.725 C 1741.403 1776.436, 1891.846 1596.553, 1972.803 1384 C 2033.342 1225.056, 2052.495 1051.431, 2028.402 880 C 2006.851 726.665, 1948.426 577.255, 1859.667 448.500 C 1825.846 399.440, 1790.528 356.811, 1747.520 313.140 C 1668.636 233.040, 1584.684 171.216, 1486.500 120.922 C 1378.440 65.568, 1263.878 30.606, 1144.500 16.551 C 1089.657 10.094, 1040.068 8.081, 985.261 10.088 M 959.496 148.596 C 946.559 160.024, 903.025 201.227, 899.115 205.745 C 897.804 207.260, 891.504 213.915, 885.115 220.532 C 866.005 240.329, 840.205 269.940, 819.360 296 C 766.797 361.714, 722.762 431.022, 684.981 507.500 C 671.584 534.620, 655 570.690, 655 572.708 C 655 573.145, 663.663 576.078, 674.250 579.225 C 748.407 601.272, 823.630 616.139, 900.500 623.941 C 925.404 626.469, 960.828 628.980, 971.750 628.991 L 980 629 980 383.500 L 980 138 975.746 138 C 971.763 138, 970.728 138.675, 959.496 148.596 M 1068 383.500 L 1068 629 1076.250 628.991 C 1086.232 628.981, 1121.720 626.565, 1143 624.448 C 1205.833 618.196, 1269.227 607.051, 1328 591.924 C 1354.561 585.088, 1393 573.791, 1393 572.821 C 1393 571.131, 1377.270 536.390, 1366.552 514.409 C 1298.566 374.976, 1204.386 251.073, 1088.504 148.607 C 1077.269 138.673, 1076.238 138, 1072.254 138 L 1068 138 1068 383.500 M 802 164.957 C 688.483 194.712, 585.592 244.216, 492.500 313.865 C 458.430 339.356, 428.832 365.106, 396.976 396.970 C 384.037 409.911, 370.619 423.745, 367.156 427.712 L 360.861 434.924 368.181 439.634 C 422.623 474.665, 496.210 512.808, 558.880 538.479 C 565.139 541.043, 570.616 542.771, 571.052 542.320 C 571.488 541.869, 574.971 534.300, 578.793 525.500 C 634.325 397.616, 710.653 279.901, 805.253 176.250 C 812.908 167.863, 818.570 161.035, 817.836 161.078 C 817.101 161.121, 809.975 162.867, 802 164.957 M 1242.711 176.250 C 1272.810 209.316, 1295.722 237.004, 1321.322 271.247 C 1384.317 355.514, 1429.345 433.844, 1474.852 538.325 C 1476.699 542.566, 1477.229 543.064, 1479.227 542.440 C 1485.064 540.618, 1531.609 520.239, 1549.564 511.643 C 1594.091 490.327, 1643.562 463.011, 1678.742 440.316 L 1687.124 434.908 1680.812 427.781 C 1652.750 396.094, 1607.575 354.220, 1568.743 323.900 C 1514.940 281.890, 1448.909 242.043, 1387.500 214.527 C 1353.529 199.306, 1304.536 181.362, 1270.382 171.633 C 1255.474 167.386, 1230.903 161, 1229.473 161 C 1229.119 161, 1235.076 167.863, 1242.711 176.250 M 294.833 518.750 C 225.579 618.699, 177.646 731.567, 154.057 850.235 C 146.072 890.408, 141.794 923.425, 138.443 970.750 L 137.788 980 306.285 980 L 474.781 980 475.439 968.750 C 479.727 895.425, 486.606 840.747, 499.627 776.500 C 508.131 734.538, 524.005 674.097, 535.459 640.073 C 537.945 632.688, 539.871 626.545, 539.740 626.422 C 539.608 626.300, 533.200 623.625, 525.500 620.478 C 456.650 592.345, 380.343 552.705, 318.374 512.880 C 311.630 508.546, 305.718 505, 305.236 505 C 304.754 505, 300.073 511.188, 294.833 518.750 M 1730 512.599 C 1669.287 551.899, 1591.917 592.110, 1522 620.701 C 1514.575 623.738, 1508.408 626.301, 1508.297 626.398 C 1508.185 626.494, 1510.580 634.207, 1513.619 643.537 C 1531.110 697.228, 1547.088 763.445, 1556.921 823 C 1564.981 871.814, 1568.883 908.245, 1572.586 969.250 L 1573.239 980 1741.713 980 L 1910.187 980 1909.520 970.250 C 1903.795 886.575, 1889.613 814.284, 1864.154 739 C 1841.231 671.215, 1809.211 604.767, 1770.671 545 C 1757.406 524.429, 1743.731 504.995, 1742.580 505.078 C 1741.986 505.120, 1736.325 508.505, 1730 512.599 M 617.675 673.791 C 588.028 766.739, 568.975 871.136, 564.392 965.750 L 563.702 980 771.851 980 L 980 980 980 849.128 L 980 718.256 965.750 717.567 C 873.097 713.087, 784.811 699.960, 699 677.906 C 678.813 672.718, 625.663 657.528, 623.913 656.446 C 623.589 656.246, 620.782 664.051, 617.675 673.791 M 1417 658.731 C 1325.760 687.351, 1225.112 706.929, 1130.500 714.459 C 1110.243 716.071, 1078.320 718, 1071.889 718 L 1068 718 1068 849 L 1068 980 1276 980 L 1484 980 1483.990 974.250 C 1483.985 971.087, 1483.532 961.975, 1482.985 954 C 1477.729 877.427, 1466.630 808.028, 1448.042 735.500 C 1442.365 713.349, 1431.602 676.570, 1426.808 662.939 L 1424.500 656.378 1417 658.731 M 138.480 1077.750 C 144.307 1162.914, 159.034 1236.848, 185.537 1314 C 204.752 1369.933, 232.160 1428.651, 263.022 1480 C 276.727 1502.804, 302.977 1542.096, 304.983 1542.808 C 305.460 1542.978, 313.197 1538.444, 322.175 1532.733 C 384.169 1493.301, 455.807 1456.168, 524.298 1427.964 C 533.948 1423.990, 536.957 1422.331, 536.531 1421.220 C 535.083 1417.448, 524.629 1382.836, 520.607 1368.500 C 495.215 1277.995, 479.096 1177.020, 475.391 1085.250 L 474.694 1068 306.254 1068 L 137.813 1068 138.480 1077.750 M 563.423 1073.750 C 563.710 1076.912, 564.203 1085.575, 564.518 1093 C 565.669 1120.077, 569.893 1163.099, 574.583 1195.493 C 583.547 1257.402, 595.461 1310.722, 614.157 1372.599 L 620.229 1392.697 629.365 1389.798 C 734.957 1356.288, 850.806 1335.837, 965.750 1330.416 L 980 1329.744 980 1198.872 L 980 1068 771.450 1068 L 562.901 1068 563.423 1073.750 M 1068 1199 L 1068 1330 1071.750 1330.001 C 1078.516 1330.002, 1112.128 1332.010, 1131 1333.542 C 1227.257 1341.352, 1329.845 1361.483, 1420.133 1390.279 L 1427.766 1392.713 1433.854 1372.607 C 1449.333 1321.484, 1459.727 1277.656, 1468.503 1226.500 C 1475.973 1182.959, 1481.907 1130.073, 1483.482 1093 C 1483.797 1085.575, 1484.290 1076.912, 1484.577 1073.750 L 1485.099 1068 1276.550 1068 L 1068 1068 1068 1199 M 1572.597 1085.250 C 1568.925 1176.119, 1553.263 1274.656, 1527.892 1366.500 C 1523.828 1381.213, 1512.993 1417.246, 1511.327 1421.589 C 1511.098 1422.188, 1515.093 1424.393, 1520.205 1426.489 C 1591.482 1455.712, 1667.547 1495.150, 1729.838 1535.179 C 1736.625 1539.540, 1742.561 1542.971, 1743.031 1542.804 C 1744.972 1542.113, 1771.839 1501.894, 1784.985 1480 C 1803.078 1449.865, 1825.381 1406.557, 1838.028 1377 C 1879.617 1279.798, 1902.253 1185.058, 1909.526 1077.750 L 1910.187 1068 1741.740 1068 L 1573.294 1068 1572.597 1085.250 M 940 1420.576 C 848.139 1427.176, 759.984 1443.208, 673 1469.133 C 661.725 1472.494, 652.189 1475.424, 651.808 1475.645 C 650.374 1476.477, 666.259 1512.405, 684.020 1548.500 C 731.444 1644.880, 791.656 1733.842, 864.116 1814.591 C 888.298 1841.540, 943.304 1896.116, 957.066 1906.815 C 958.912 1908.250, 961.975 1908.874, 969.750 1909.399 L 980 1910.092 980 1664.546 L 980 1419 969.250 1419.123 C 963.337 1419.191, 950.175 1419.845, 940 1420.576 M 1068 1664.642 L 1068 1910.285 1074.147 1909.642 C 1077.527 1909.289, 1082.233 1909, 1084.604 1909 C 1088.791 1909, 1089.434 1908.520, 1107.207 1892.117 C 1227.680 1780.933, 1323.134 1646.396, 1388.606 1495.500 C 1393.140 1485.050, 1396.546 1476.197, 1396.175 1475.827 C 1395.167 1474.822, 1353.217 1462.590, 1331.500 1456.969 C 1270.970 1441.302, 1209.211 1430.244, 1147.500 1424.024 C 1122.588 1421.514, 1087.168 1419.020, 1076.250 1419.009 L 1068 1419 1068 1664.642 M 557 1510.179 C 507.015 1531.292, 459.643 1554.572, 416.844 1579.055 C 395.927 1591.020, 362.388 1611.563, 361.546 1612.926 C 361.293 1613.334, 368.409 1621.506, 377.357 1631.084 C 474.839 1735.426, 600.503 1816.768, 735.625 1862.987 C 762.014 1872.013, 805.531 1884.802, 806.514 1883.820 C 806.691 1883.643, 801.638 1877.648, 795.285 1870.499 C 703.271 1766.952, 629.656 1651.317, 576.448 1526.750 C 571.573 1515.338, 567.341 1506.037, 567.042 1506.083 C 566.744 1506.129, 562.225 1507.972, 557 1510.179 M 1471.552 1526.750 C 1442.114 1595.668, 1405.894 1662.746, 1363.988 1725.955 C 1327.954 1780.306, 1295.193 1822.663, 1248.712 1874.998 C 1244.560 1879.673, 1241.312 1883.646, 1241.494 1883.827 C 1241.959 1884.292, 1262.769 1878.700, 1280.105 1873.451 C 1403.483 1836.097, 1512.533 1775.199, 1612 1688.111 C 1627.993 1674.108, 1669.683 1633.026, 1680.837 1620.278 L 1687.156 1613.056 1678.828 1607.696 C 1634.460 1579.143, 1569.352 1544.329, 1519 1522.234 C 1507.839 1517.337, 1481.011 1506, 1480.582 1506 C 1480.490 1506, 1476.427 1515.338, 1471.552 1526.750" stroke="none" fill-rule="evenodd" />
        </svg>);
    const followToggle = (
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 512 512" version="1.1">
            <path fill="var(--color-tone-1)"  d="M 117.477 40.923 C 86.619 45.858, 62.318 67.994, 54.857 97.963 C 52.070 109.157, 52.604 128.006, 55.991 137.967 C 66.475 168.799, 91.899 188.798, 123.022 190.694 C 138.956 191.665, 157.032 187.118, 167.815 179.428 C 167.988 179.304, 168.771 176.455, 169.555 173.096 C 173.559 155.932, 182.193 140.586, 195.137 127.629 L 203 119.758 203 112.539 C 203 87.129, 185.982 60.577, 161.935 48.467 C 149.021 41.964, 130.558 38.831, 117.477 40.923 M 372.831 40.955 C 347.955 45.516, 327.694 60.229, 316.996 81.500 C 312.491 90.457, 309 102.918, 309 110.040 C 309 114.606, 309.184 114.899, 314.650 119.025 C 332.171 132.254, 345.195 151.996, 349.597 172 C 352.316 184.352, 352.186 184.111, 357.223 186.090 C 371.703 191.778, 391.435 192.379, 406.500 187.590 C 430.100 180.089, 447.677 162.471, 456.009 137.967 C 459.396 128.006, 459.930 109.157, 457.143 97.963 C 450.504 71.297, 430.243 50.409, 403.821 42.991 C 395.611 40.686, 379.920 39.655, 372.831 40.955 M 241.784 119.979 C 214.438 126.927, 192.870 148.632, 186.343 175.770 C 184.006 185.490, 184.228 202.436, 186.819 212.136 C 193.800 238.260, 214.863 259.311, 240.864 266.148 C 246.369 267.596, 251.710 268.158, 260 268.165 C 281.184 268.181, 297.634 261.301, 313.138 245.943 C 320.639 238.513, 322.442 236.012, 326.839 226.943 C 333.419 213.370, 335.466 203.529, 334.722 189.046 C 333.075 156.970, 312.704 130.927, 281.500 121.003 C 271.338 117.772, 252.393 117.283, 241.784 119.979 M 87.155 196.106 C 48.184 199.571, 15.320 226.851, 3.292 265.718 L 0.574 274.500 0.228 323.065 L -0.119 371.630 18.690 376.828 C 49.461 385.332, 74.477 390.075, 100.750 392.389 L 114 393.556 114.017 380.528 C 114.061 347.987, 119.140 328.918, 133.602 307 C 143.375 292.188, 155.842 280.418, 171.500 271.220 C 178.174 267.299, 192.611 261, 194.923 261 C 195.523 261, 193.274 257.738, 189.926 253.750 C 176.781 238.095, 170.878 223.847, 167.403 199.387 C 166.987 196.457, 166.653 196.237, 161.730 195.646 C 154.362 194.761, 98.401 195.106, 87.155 196.106 M 352.589 196.250 C 352.397 196.938, 351.732 201.375, 351.111 206.111 C 350.491 210.847, 349.049 217.597, 347.907 221.111 C 343.872 233.533, 334.519 249.414, 327.102 256.437 C 325.396 258.052, 324 259.704, 324 260.107 C 324 260.510, 326.363 261.607, 329.250 262.545 C 332.137 263.483, 338.542 266.319, 343.481 268.846 C 375.164 285.057, 397.315 315.191, 403.463 350.446 C 404.450 356.109, 405 365.502, 405 376.711 L 405 394.160 415.250 393.490 C 448.267 391.333, 487.090 382.546, 506.179 372.910 L 512.122 369.909 511.773 322.205 L 511.423 274.500 508.707 265.718 C 496.410 225.964, 464.040 199.644, 423 196.030 C 405.677 194.504, 353.030 194.669, 352.589 196.250 M 211.500 274.467 C 168.415 282.383, 136.229 317.255, 132.016 360.585 C 130.511 376.055, 130.701 447.523, 132.250 448.728 C 133.791 449.927, 158.784 457.104, 173 460.430 C 247.848 477.938, 326.198 474.643, 378.811 451.775 L 388.123 447.728 387.760 400.614 C 387.341 346.276, 387.363 346.433, 377.475 326.500 C 363.965 299.266, 340.241 281.163, 309.979 274.996 C 301.085 273.183, 296.436 273.008, 259.343 273.090 C 230.709 273.154, 216.407 273.565, 211.500 274.467" stroke="none" fill-rule="evenodd"/>
        </svg>
    );

    // Flag to trigger row animations
    const [animate, setAnimate] = useState(false);
    
    useEffect(() => {
        // When the component mounts, start the animation chain
        setAnimate(true);
    }, []);

    return (
        <section class="leaderboard">
            <div class="toggle-container">
                <div class="toggle">
                <button id="world-toggle" class="active">
                    {worldToggle}
                </button>
                <button id="follow-toggle">
                    {followToggle}
                </button>
                </div>
            </div>
            {users.map((user, index) => (
                <LeaderboardRow user={user} index={index} />
            ))}
            <LeaderboardRowShowMore index={users.length} />
            {/* Show the current user at the end of the list */}
            <LeaderboardRow user={current_user} index={users.length+1} is_current_user={true} />
        </section>
    );
}